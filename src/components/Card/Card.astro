---
import clsx from 'clsx';

interface Props {
  as?: string;
  class?: string;
}

const { as: Element = 'div', class: className } = Astro.props;
---

<Element class={clsx(className, 'group relative flex flex-col items-start')}>
  <slot />
</Element>

<script>
  class ChevronRightIcon extends HTMLElement {
    constructor() {
      super();
      this.innerHTML = `
        <svg viewBox="0 0 16 16" fill="none" aria-hidden="true">
          <path
            d="M6.75 5.75 9.25 8l-2.5 2.25"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      `;
    }
  }
  customElements.define('chevron-right-icon', ChevronRightIcon);
</script>

<style>
  .card-link {
    position: relative;
  }

  .card-link-bg {
    position: absolute;
    inset: -1rem -1rem -1.5rem;
    z-index: 0;
    scale: 0.95;
    background-color: rgb(249 250 251);
    opacity: 0;
    transition: all 0.2s;
    border-radius: 1rem;
  }

  :global(.dark) .card-link-bg {
    background-color: rgb(39 39 42 / 0.5);
  }

  .card-link:hover .card-link-bg {
    scale: 1;
    opacity: 1;
  }

  @media (min-width: 640px) {
    .card-link-bg {
      inset: -1rem -1.5rem -1.5rem;
      border-radius: 1rem;
    }
  }

  .card-title {
    font-size: 1rem;
    font-weight: 600;
    letter-spacing: -0.025em;
    color: rgb(31 41 55);
  }

  :global(.dark) .card-title {
    color: rgb(243 244 246);
  }

  .card-description {
    position: relative;
    z-index: 10;
    margin-top: 0.5rem;
    font-size: 0.875rem;
    color: rgb(75 85 99);
  }

  :global(.dark) .card-description {
    color: rgb(156 163 175);
  }

  .card-cta {
    position: relative;
    z-index: 10;
    margin-top: 1rem;
    display: flex;
    align-items: center;
    font-size: 0.875rem;
    font-weight: 500;
    color: rgb(20 184 166);
  }

  .card-cta chevron-right-icon {
    margin-left: 0.25rem;
    height: 1rem;
    width: 1rem;
    stroke: currentColor;
  }

  .card-eyebrow {
    position: relative;
    z-index: 10;
    order: -1;
    margin-bottom: 0.75rem;
    display: flex;
    align-items: center;
    font-size: 0.875rem;
    color: rgb(156 163 175);
  }

  :global(.dark) .card-eyebrow {
    color: rgb(107 114 128);
  }

  .card-eyebrow.decorated {
    padding-left: 0.875rem;
  }

  .card-eyebrow.decorated::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    display: flex;
    align-items: center;
  }

  .card-eyebrow.decorated::after {
    content: '';
    width: 0.125rem;
    height: 1rem;
    border-radius: 9999px;
    background-color: rgb(229 231 235);
  }

  :global(.dark) .card-eyebrow.decorated::after {
    background-color: rgb(107 114 128);
  }
</style> 